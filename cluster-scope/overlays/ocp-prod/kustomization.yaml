apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  # please keep each block of items sorted
  - ../../base/cert-manager.io/issuers/ingress-letsencrypt-production
  - ../../base/cert-manager.io/issuers/ingress-letsencrypt-staging
  - ../../base/config.openshift.io/oauths/cluster
  - ../../base/core/namespaces/metallb-system/
  - ../../base/core/namespaces/gpu-operator-resources/
  - ../../base/core/namespaces/openshift-nfd
  - ../../base/core/namespaces/openshift-nmstate
  - ../../base/nmstate.io/nodenetworkstates/nmstate
  - ../../base/operators.coreos.com/operatorgroups/openshift-nfd
  - ../../base/operators.coreos.com/subscriptions/cert-manager
  - ../../base/operators.coreos.com/subscriptions/openshift-nfd
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/cluster-admins-rb
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/self-provisioners
  - ../../base/storage.k8s.io/storageclasses/ocs-external-storagecluster-cephfs
  - ../../base/storage.k8s.io/storageclasses/ocs-external-storagecluster-ceph-rbd
  - ../../base/storage.k8s.io/storageclasses/openshift-storage.noobaa.io
  - ../../base/user.openshift.io/groups/cluster-admins/

  # metallb
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/metallb-allow-privileged/
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/metallb-system:controller/
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/metallb-system:speaker/
  - ../../base/rbac.authorization.k8s.io/clusterroles/metallb-system:controller/
  - ../../base/rbac.authorization.k8s.io/clusterroles/metallb-system:speaker/

  # external secrets
  - ../../base/apiextensions.k8s.io/customresourcedefinitions/externalsecrets.kubernetes-client.io
  - ../../base/core/namespaces/external-secrets
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/moc-kubernetes-external-secrets
  - ../../base/rbac.authorization.k8s.io/clusterrolebindings/moc-kubernetes-external-secrets-auth
  - ../../base/rbac.authorization.k8s.io/clusterroles/moc-kubernetes-external-secrets

  - certificates/default-ingress-certificate.yaml
  - externalsecrets/aws-route53-secret.yaml
  - externalsecrets/metallb-memberlist-secret.yaml
  - nodefeaturediscoveries/node-feature-discovery.yaml
  - nodenetworkconfigurationpolicies/ceph-client-network.yaml
  - ingresscontrollers/default.yaml

patchesStrategicMerge:
  - groups/cluster-admins.yaml
  - oauths/cluster_patch.yaml
